<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="{{url_for('static', filename='css/auth.css')}}">
    <link rel="icon" type="image/x-icon" href="{{url_for('static', filename='assets/logos/plant_logo.png')}}">
</head>
<body>

    <main>

        <header>
            <nav>
                <div id="logo-container">
                    <div id="img-container">
                        <img src="{{url_for('static', filename='assets/logos/plant_logo.png')}}" alt="Plant Pulse logo" id="logo">
                    </div>
                    <span>lant Pulse</span>
                </div>
            </nav>
        </header>

        <div class="image">
            <img src="{{url_for('static', filename='assets/Home Assets/ChatGPT_Image_Sep_29__2025__04_55_15_PM-removebg-preview.png')}}" alt="">
        </div>

        <div class="form">
            <div>
                <h1>Login</h1>
                <p>Welcome to Plant Pulse</p>
            </div>
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <ul class="flashes">
                        {% for category, message in messages %}
                            <li class="flash {{ category }}">{{ message }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
            {% endwith %}
            
            <form action="/login_process" method="POST">
                <input type="email" name="email-input" id="email-input" placeholder="Email">
                <input type="password" name="password-input" id="password-input" placeholder="Password">
                <a href="#">Forgot Password?</a>
                <button type="submit">Login</button>

                <p>Don't have an account? <a href="{{url_for('main.signup')}}">Sign up</a></p>
            </form>
        
        </div>

    </main>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const flashes = document.querySelectorAll('.flash');
  flashes.forEach(el => {
    setTimeout(() => {
      el.style.transition = "opacity 0.4s ease";
      el.style.opacity = 0;
      setTimeout(() => el.remove(), 500);
    }, 4000);

    location.reload
  });
});
</script>
</body>
</html>